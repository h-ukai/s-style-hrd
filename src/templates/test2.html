<!DOCTYPE html> 
<html> 
<head> 
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"> 
  <title>Jquery UI 1.8.6 Autocomplete Bug - JSONP + Custom Data - Blowsie - jsFiddle demo by blowsie</title> 
    
  <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js'></script> 
  <script type='text/javascript' src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.12/jquery-ui.min.js"></script> 
  <link href="./css/jquery.autocomplete.css" type="text/css" rel="stylesheet" media="all" />
    
  
  <style type='text/css'> 
    
 
  </style> 
  
  <script type='text/javascript'> 
  //<![CDATA[ 
  $(window).load(function(){
  $(function() {
//    function log(message) {
//        $("<div/>").text(message).prependTo("#log");
//        $("#log").attr("scrollTop", 0);
//    }
 
    $("#city").autocomplete({
        source: function(request, response) {
            $.ajax({
                url: "https://ws.geonames.org/searchJSON",
                dataType: "jsonp",
                data: {
                    featureClass: "P",
                    style: "full",
                    maxRows: 12,
                    name_startsWith: request.term
                },
                success: function(data) {
                    response($.map(data.geonames, function(item) {
                        return {
                            label: item.name + (item.adminName1 ? ", " + item.adminName1 : "") + ", " + item.countryName,
                            value: item.name,
                            test: 'hahahah'
                        }
                    }));
                }
            });
        },
        minLength: 2,
        select: function(event, ui) {
            log(ui.item ? "Selected: " + ui.item.label : "Nothing selected, input was " + this.value);
        },
        open: function() {
            $(this).removeClass("ui-corner-all").addClass("ui-corner-top");
        },
        close: function() {
            $(this).removeClass("ui-corner-top").addClass("ui-corner-all");
        }
    })        
//    .data( "autocomplete" )._renderItem = function( ul, item ) {
//            return $( "<li></li>" )
//                .data( "item.autocomplete", item )
//                .append( "<a>" + item.label + "<br>" + item.test + "</a>" )
//                .appendTo( ul );
//        };
    
    
    
});
  });
  //]]> 
  </script> 
  
</head> 
<body> 
  <div class="demo"> 
    
 <a href="https://s-style-hrd.appspot.com/bkedit.html?bkID=001">
 　 物件データ入力フォーム
 </br>
 https://s-style-hrd.appspot.com/bkedit.html?bkID=001
 </a>
 
 <a href="https://s-style-hrd.appspot.com/BlobstoreUtl/s-style/hon/001">
 　物件ファイル管理サンプル
 </br>
 https://s-style-hrd.appspot.com/BlobstoreUtl/s-style/hon/001
 </a>

 <a href="https://s-style-hrd.appspot.com/memberedit.html?memberID=7">　 
 　顧客台帳サンプル
 </br>
 https://s-style-hrd.appspot.com/memberedit.html?memberID=7
 </a>
 

 <a href="https://s-style-hrd.appspot.com/csvupload/bkdata.html">　 
 　レインズデータアップロードサンプル
 </br>
 https://s-style-hrd.appspot.com/csvupload/bkdata.html
 </a>




 
 
 <--!
    <div class="ui-widget"> 
        <label for="city">Your city: </label> 
        <input id="city" /> 
        Powered by <a href="https://geonames.org">geonames.org</a> 
    </div> 
    
    <div class="ui-widget" style="margin-top:2em; font-family:Arial"> 
        Result:
        <div id="log" style="height: 200px; width: 300px; overflow: auto;" class="ui-widget-content"></div> 
    </div> 
-->    
</div> 
  
</body> 
 
 
</html> 